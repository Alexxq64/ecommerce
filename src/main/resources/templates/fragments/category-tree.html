<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="categoryTree(children)">
    <ul>
        <li th:each="child : ${children}">
            <a th:href="@{/(categoryId=${child.id})}" th:text="${child.name}">Категория</a>
            <div th:if="${#lists.isNotEmpty(child.children)}"
                 th:replace="fragments/category-tree :: categoryTree(${child.children})"></div>
        </li>
    </ul>
</th:block>
</html>
